<!doctype html>
<html lang="de" class="h-full" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>B2B Einstellungen – Demo</title>
  <!-- Tailwind via CDN for quick demo; swap for your build in production -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          container: { center: true, padding: '1rem' }
        }
      }
    }
  </script>
  <style>
    html, body { height: 100% }
    /* Show/hide sections based on current role on <body data-role> */
    [data-role="user"]  [data-visible-for="admin"] { display: none !important; }
    [data-role="admin"] [data-visible-for="user"]  { display: none !important; }

    /* Segmented control indicator */
    .segmented { position: relative; }
    .segmented::before {
      content: "";
      position: absolute; inset: 4px auto 4px 4px; width: calc(50% - 6px);
      border-radius: 9999px; background: white;
      box-shadow: 0 1px 2px rgba(0,0,0,.08), 0 6px 20px rgba(0,0,0,.08);
      transition: transform .25s ease;
    }
    body[data-role="admin"] .segmented::before { transform: translateX(100%); }
    body[data-role="user"]  .segmented::before { transform: translateX(0%); }
  </style>
</head>
<body class="h-full bg-slate-50 text-slate-800" data-role="user">
  <!-- Toasts -->
  <div id="toast-root" class="fixed z-50 top-4 right-4 space-y-2"></div>

  <!-- Topbar -->
  <header class="sticky top-0 z-40 border-b bg-white/70 backdrop-blur">
    <div class="container flex items-center justify-between py-3">
      <div class="flex items-center gap-3">
        <div class="h-9 w-9 rounded-xl bg-blue-600 text-white grid place-items-center font-semibold">B2B</div>
        <div class="text-slate-900 font-semibold">Einstellungen</div>
        <span class="text-slate-300">•</span>
        <span class="text-slate-600" data-visible-for="user">Benutzeransicht</span>
        <span class="text-slate-600" data-visible-for="admin">Admin-Ansicht</span>
      </div>

      <!-- Role switcher -->
      <div class="flex items-center gap-3">
        <div class="segmented rounded-full bg-slate-100 p-1 w-56">
          <div class="grid grid-cols-2 text-sm font-medium">
            <label class="relative z-[1] inline-flex items-center justify-center gap-2 py-1.5 cursor-pointer select-none">
              <input type="radio" name="role" value="user" class="sr-only" checked>
              <span class="flex items-center gap-1.5 px-3">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.121 17.804A13.937 13.937 0 0112 15c2.5 0 4.847.655 6.879 1.804M15 11a3 3 0 11-6 0 3 3 0 016 0z"/></svg>
                Benutzer
              </span>
            </label>
            <label class="relative z-[1] inline-flex items-center justify-center gap-2 py-1.5 cursor-pointer select-none">
              <input type="radio" name="role" value="admin" class="sr-only">
              <span class="flex items-center gap-1.5 px-3">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c1.657 0 3-1.343 3-3S13.657 2 12 2 9 3.343 9 5s1.343 3 3 3zm7 4h-2.1a5.997 5.997 0 00-11.8 0H3a1 1 0 000 2h2.1a5.997 5.997 0 0011.8 0H19a1 1 0 100-2z"/></svg>
                Admin
              </span>
            </label>
          </div>
        </div>
        <button id="saveAllTop" class="hidden md:inline-flex items-center gap-2 rounded-xl bg-blue-600 px-4 py-2 text-white shadow-sm hover:bg-blue-700 active:bg-blue-800">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor"><path d="M16.707 5.293a1 1 0 00-1.414 0L8 12.586 4.707 9.293a1 1 0 10-1.414 1.414l4 4a1 1 0 001.414 0l8-8a1 1 0 000-1.414z"/></svg>
          Änderungen speichern
        </button>
      </div>
    </div>
  </header>

  <!-- Page layout -->
  <main class="container py-8 grid grid-cols-12 gap-6">
    <!-- Sidebar nav -->
    <aside class="col-span-12 md:col-span-3">
      <nav class="rounded-2xl border bg-white p-2 shadow-sm">
        <a href="#profil" class="group flex items-center gap-3 rounded-xl px-3 py-2.5 hover:bg-slate-50">
          <span class="h-2 w-2 rounded-full bg-blue-600 opacity-0 group-hover:opacity-100"></span>
          <span class="text-sm font-medium text-slate-700">Profil</span>
        </a>
        <a href="#sicherheit" class="group flex items-center gap-3 rounded-xl px-3 py-2.5 hover:bg-slate-50">
          <span class="h-2 w-2 rounded-full bg-blue-600 opacity-0 group-hover:opacity-100"></span>
          <span class="text-sm font-medium text-slate-700">Sicherheit</span>
        </a>
        <a href="#benachrichtigungen" class="group flex items-center gap-3 rounded-xl px-3 py-2.5 hover:bg-slate-50" data-visible-for="user">
          <span class="h-2 w-2 rounded-full bg-blue-600 opacity-0 group-hover:opacity-100"></span>
          <span class="text-sm font-medium text-slate-700">Benachrichtigungen</span>
        </a>
        <a href="#abrechnung" class="group flex items-center gap-3 rounded-xl px-3 py-2.5 hover:bg-slate-50" data-visible-for="user">
          <span class="h-2 w-2 rounded-full bg-blue-600 opacity-0 group-hover:opacity-100"></span>
          <span class="text-sm font-medium text-slate-700">Abrechnung</span>
        </a>
        <div class="my-2 border-t"></div>
        <a href="#organisation" class="group flex items-center gap-3 rounded-xl px-3 py-2.5 hover:bg-slate-50" data-visible-for="admin">
          <span class="h-2 w-2 rounded-full bg-blue-600 opacity-0 group-hover:opacity-100"></span>
          <span class="text-sm font-medium text-slate-700">Organisation</span>
        </a>
        <a href="#team" class="group flex items-center gap-3 rounded-xl px-3 py-2.5 hover:bg-slate-50" data-visible-for="admin">
          <span class="h-2 w-2 rounded-full bg-blue-600 opacity-0 group-hover:opacity-100"></span>
          <span class="text-sm font-medium text-slate-700">Team</span>
        </a>
        <a href="#rollen" class="group flex items-center gap-3 rounded-xl px-3 py-2.5 hover:bg-slate-50" data-visible-for="admin">
          <span class="h-2 w-2 rounded-full bg-blue-600 opacity-0 group-hover:opacity-100"></span>
          <span class="text-sm font-medium text-slate-700">Rollen & Rechte</span>
        </a>
        <a href="#audit" class="group flex items-center gap-3 rounded-xl px-3 py-2.5 hover:bg-slate-50" data-visible-for="admin">
          <span class="h-2 w-2 rounded-full bg-blue-600 opacity-0 group-hover:opacity-100"></span>
          <span class="text-sm font-medium text-slate-700">Audit-Logs</span>
        </a>
      </nav>
    </aside>

    <!-- Content -->
    <section class="col-span-12 md:col-span-9 space-y-6">
      <!-- USER: Profil -->
      <section id="profil" class="rounded-2xl border bg-white p-6 shadow-sm">
        <header class="mb-4 flex items-center justify-between">
          <div>
            <h2 class="text-lg font-semibold">Profil</h2>
            <p class="text-sm text-slate-500">Verwalte deine persönlichen Angaben.</p>
          </div>
        </header>

        <form class="js-save grid gap-6 md:grid-cols-2">
          <div class="flex items-center gap-4 md:col-span-2">
            <img alt="Avatar" src="https://api.dicebear.com/7.x/initials/svg?seed=JD" class="h-14 w-14 rounded-xl border" />
            <div>
              <div class="text-sm text-slate-600">Avatar</div>
              <div class="mt-2 flex items-center gap-2">
                <button type="button" class="rounded-lg border px-3 py-1.5 text-sm hover:bg-slate-50">Bild hochladen</button>
                <button type="button" class="rounded-lg border px-3 py-1.5 text-sm hover:bg-slate-50">Entfernen</button>
              </div>
            </div>
          </div>
          <div>
            <label class="text-sm text-slate-600">Vollständiger Name</label>
            <input type="text" required value="Jordan Demo" class="mt-1 w-full rounded-xl border px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-600" />
          </div>
          <div>
            <label class="text-sm text-slate-600">E‑Mail</label>
            <input type="email" required value="jordan@example.com" class="mt-1 w-full rounded-xl border px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-600" />
          </div>
          <div class="md:col-span-2">
            <label class="text-sm text-slate-600">Signatur</label>
            <textarea rows="3" class="mt-1 w-full rounded-xl border px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-600">Viele Grüße\nJordan</textarea>
          </div>

          <div class="md:col-span-2 flex items-center justify-end gap-2">
            <button type="reset" class="rounded-xl border px-4 py-2 text-sm hover:bg-slate-50">Zurücksetzen</button>
            <button type="submit" class="rounded-xl bg-blue-600 px-4 py-2 text-sm text-white shadow-sm hover:bg-blue-700">Speichern</button>
          </div>
        </form>
      </section>

      <!-- USER: Sicherheit -->
      <section id="sicherheit" class="rounded-2xl border bg-white p-6 shadow-sm">
        <header class="mb-4">
          <h2 class="text-lg font-semibold">Sicherheit</h2>
          <p class="text-sm text-slate-500">Passwort & Multi‑Faktor‑Authentifizierung.</p>
        </header>
        <div class="grid gap-6 md:grid-cols-2">
          <form class="js-save space-y-3">
            <div>
              <label class="text-sm text-slate-600">Aktuelles Passwort</label>
              <input type="password" class="mt-1 w-full rounded-xl border px-3 py-2" required />
            </div>
            <div>
              <label class="text-sm text-slate-600">Neues Passwort</label>
              <input type="password" class="mt-1 w-full rounded-xl border px-3 py-2" required />
            </div>
            <div>
              <label class="text-sm text-slate-600">Wiederholen</label>
              <input type="password" class="mt-1 w-full rounded-xl border px-3 py-2" required />
            </div>
            <button type="submit" class="rounded-xl bg-blue-600 px-4 py-2 text-sm text-white shadow-sm hover:bg-blue-700">Passwort aktualisieren</button>
          </form>

          <form class="js-save space-y-4">
            <div class="flex items-center justify-between">
              <div>
                <div class="font-medium">2‑Faktor‑Login (TOTP)</div>
                <p class="text-sm text-slate-500">Erhöht die Kontosicherheit.</p>
              </div>
              <label class="inline-flex items-center cursor-pointer">
                <input type="checkbox" class="peer sr-only" checked />
                <span class="relative h-6 w-11 rounded-full bg-slate-200 transition-colors peer-checked:bg-blue-600">
                  <span class="absolute left-1 top-1 h-4 w-4 rounded-full bg-white transition-transform peer-checked:translate-x-5"></span>
                </span>
              </label>
            </div>
            <button type="submit" class="rounded-xl border px-4 py-2 text-sm hover:bg-slate-50">Wiederherstellungscodes anzeigen</button>
          </form>
        </div>
      </section>

      <!-- USER: Benachrichtigungen -->
      <section id="benachrichtigungen" class="rounded-2xl border bg-white p-6 shadow-sm" data-visible-for="user">
        <header class="mb-4">
          <h2 class="text-lg font-semibold">Benachrichtigungen</h2>
          <p class="text-sm text-slate-500">Steuere E‑Mail & In‑App Hinweise.</p>
        </header>
        <form class="js-save space-y-4">
          <div class="flex items-center justify-between">
            <div>
              <div class="font-medium">Produkt‑Updates</div>
              <p class="text-sm text-slate-500">Monatlicher Newsletter.</p>
            </div>
            <label class="inline-flex items-center cursor-pointer">
              <input type="checkbox" class="peer sr-only" checked />
              <span class="relative h-6 w-11 rounded-full bg-slate-200 transition-colors peer-checked:bg-blue-600"><span class="absolute left-1 top-1 h-4 w-4 rounded-full bg-white transition-transform peer-checked:translate-x-5"></span></span>
            </label>
          </div>
          <div class="flex items-center justify-between">
            <div>
              <div class="font-medium">Sicherheitswarnungen</div>
              <p class="text-sm text-slate-500">Anmeldungen & Passwortänderungen.</p>
            </div>
            <label class="inline-flex items-center cursor-pointer">
              <input type="checkbox" class="peer sr-only" checked />
              <span class="relative h-6 w-11 rounded-full bg-slate-200 transition-colors peer-checked:bg-blue-600"><span class="absolute left-1 top-1 h-4 w-4 rounded-full bg-white transition-transform peer-checked:translate-x-5"></span></span>
            </label>
          </div>
          <div class="flex items-center justify-between">
            <div>
              <div class="font-medium">Erinnerungen</div>
              <p class="text-sm text-slate-500">Aufgaben & Deadlines.</p>
            </div>
            <label class="inline-flex items-center cursor-pointer">
              <input type="checkbox" class="peer sr-only" />
              <span class="relative h-6 w-11 rounded-full bg-slate-200 transition-colors peer-checked:bg-blue-600"><span class="absolute left-1 top-1 h-4 w-4 rounded-full bg-white transition-transform peer-checked:translate-x-5"></span></span>
            </label>
          </div>
          <div class="flex justify-end">
            <button type="submit" class="rounded-xl bg-blue-600 px-4 py-2 text-sm text-white shadow-sm hover:bg-blue-700">Speichern</button>
          </div>
        </form>
      </section>

      <!-- USER: Abrechnung -->
      <section id="abrechnung" class="rounded-2xl border bg-white p-6 shadow-sm" data-visible-for="user">
        <header class="mb-4">
          <h2 class="text-lg font-semibold">Abrechnung</h2>
          <p class="text-sm text-slate-500">Plan & Zahlungsmethode.</p>
        </header>
        <div class="grid gap-6 md:grid-cols-2">
          <div class="rounded-xl border p-4">
            <div class="flex items-center justify-between">
              <div>
                <div class="text-sm text-slate-500">Aktueller Plan</div>
                <div class="text-lg font-semibold">Pro – 15€/Sitz/Monat</div>
              </div>
              <span class="rounded-full bg-green-50 px-3 py-1 text-xs font-medium text-green-700">Aktiv</span>
            </div>
            <div class="mt-4 flex gap-2">
              <button class="rounded-xl border px-4 py-2 text-sm hover:bg-slate-50">Plan ändern</button>
              <button class="rounded-xl border px-4 py-2 text-sm hover:bg-slate-50">Rechnungen ansehen</button>
            </div>
          </div>
          <form class="js-save rounded-xl border p-4 space-y-3">
            <div class="text-sm text-slate-600">Zahlungsmethode</div>
            <input placeholder="Kartennummer" class="w-full rounded-xl border px-3 py-2" />
            <div class="grid grid-cols-2 gap-3">
              <input placeholder="MM/JJ" class="rounded-xl border px-3 py-2" />
              <input placeholder="CVC" class="rounded-xl border px-3 py-2" />
            </div>
            <button type="submit" class="rounded-xl bg-blue-600 px-4 py-2 text-sm text-white shadow-sm hover:bg-blue-700">Zahlungsmethode speichern</button>
          </form>
        </div>
      </section>

      <!-- ADMIN: Organisation -->
      <section id="organisation" class="rounded-2xl border bg-white p-6 shadow-sm" data-visible-for="admin">
        <header class="mb-4">
          <h2 class="text-lg font-semibold">Organisation</h2>
          <p class="text-sm text-slate-500">Globale Einstellungen für dein Unternehmen.</p>
        </header>
        <form class="js-save grid gap-6 md:grid-cols-2">
          <div>
            <label class="text-sm text-slate-600">Organisationsname</label>
            <input type="text" value="Demo GmbH" class="mt-1 w-full rounded-xl border px-3 py-2" />
          </div>
          <div>
            <label class="text-sm text-slate-600">Subdomain</label>
            <div class="mt-1 flex rounded-xl border focus-within:ring-2 focus-within:ring-blue-600">
              <span class="grid place-items-center px-3 text-slate-500">https://</span>
              <input type="text" value="demo" class="w-full px-3 py-2 focus:outline-none" />
              <span class="grid place-items-center px-3 text-slate-500">.tool.example</span>
            </div>
          </div>
          <div class="md:col-span-2">
            <label class="text-sm text-slate-600">Datenschutz</label>
            <div class="mt-2 flex items-center justify-between rounded-xl border p-3">
              <div>
                <div class="font-medium">Logging auf EU‑Region beschränken</div>
                <p class="text-sm text-slate-500">Erfüllt regionale Compliance‑Anforderungen.</p>
              </div>
              <label class="inline-flex items-center cursor-pointer">
                <input type="checkbox" class="peer sr-only" checked />
                <span class="relative h-6 w-11 rounded-full bg-slate-200 transition-colors peer-checked:bg-blue-600"><span class="absolute left-1 top-1 h-4 w-4 rounded-full bg-white transition-transform peer-checked:translate-x-5"></span></span>
              </label>
            </div>
          </div>
          <div class="md:col-span-2 flex justify-end gap-2">
            <button type="reset" class="rounded-xl border px-4 py-2 text-sm hover:bg-slate-50">Zurücksetzen</button>
            <button type="submit" class="rounded-xl bg-blue-600 px-4 py-2 text-sm text-white shadow-sm hover:bg-blue-700">Speichern</button>
          </div>
        </form>
      </section>

      <!-- ADMIN: Team -->
      <section id="team" class="rounded-2xl border bg-white p-6 shadow-sm" data-visible-for="admin">
        <header class="mb-4 flex items-center justify-between">
          <div>
            <h2 class="text-lg font-semibold">Team</h2>
            <p class="text-sm text-slate-500">Mitglieder verwalten & einladen.</p>
          </div>
          <button class="rounded-xl border px-3 py-2 text-sm hover:bg-slate-50">Bulk‑Import</button>
        </header>
        <div class="grid gap-6 md:grid-cols-3">
          <form class="js-save md:col-span-1 rounded-xl border p-4 space-y-3">
            <div class="text-sm text-slate-600 font-medium">Mitglied einladen</div>
            <input type="email" placeholder="E‑Mail" class="w-full rounded-xl border px-3 py-2" />
            <select class="w-full rounded-xl border px-3 py-2">
              <option>Mitglied</option>
              <option>Manager</option>
              <option>Admin</option>
            </select>
            <button type="submit" class="w-full rounded-xl bg-blue-600 px-4 py-2 text-sm text-white shadow-sm hover:bg-blue-700">Einladung senden</button>
          </form>

          <div class="md:col-span-2 rounded-xl border overflow-hidden">
            <table class="w-full text-sm">
              <thead class="bg-slate-50 text-slate-600">
                <tr>
                  <th class="px-4 py-2 text-left font-medium">Name</th>
                  <th class="px-4 py-2 text-left font-medium">Rolle</th>
                  <th class="px-4 py-2 text-left font-medium">Status</th>
                  <th class="px-4 py-2"></th>
                </tr>
              </thead>
              <tbody>
                <tr class="border-t">
                  <td class="px-4 py-2">Jordan Demo<br><span class="text-xs text-slate-500">jordan@example.com</span></td>
                  <td class="px-4 py-2">
                    <select class="rounded-lg border px-2 py-1">
                      <option>Admin</option>
                      <option selected>Manager</option>
                      <option>Mitglied</option>
                    </select>
                  </td>
                  <td class="px-4 py-2"><span class="rounded-full bg-green-50 px-2 py-1 text-xs font-medium text-green-700">Aktiv</span></td>
                  <td class="px-4 py-2 text-right"><button class="rounded-lg border px-3 py-1 hover:bg-slate-50">Entfernen</button></td>
                </tr>
                <tr class="border-t">
                  <td class="px-4 py-2">Chris Muster<br><span class="text-xs text-slate-500">chris@example.com</span></td>
                  <td class="px-4 py-2">
                    <select class="rounded-lg border px-2 py-1"><option>Admin</option><option>Manager</option><option selected>Mitglied</option></select>
                  </td>
                  <td class="px-4 py-2"><span class="rounded-full bg-yellow-50 px-2 py-1 text-xs font-medium text-yellow-700">Eingeladen</span></td>
                  <td class="px-4 py-2 text-right"><button class="rounded-lg border px-3 py-1 hover:bg-slate-50">Erinnern</button></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </section>

      <!-- ADMIN: Rollen & Rechte -->
      <section id="rollen" class="rounded-2xl border bg-white p-6 shadow-sm" data-visible-for="admin">
        <header class="mb-4">
          <h2 class="text-lg font-semibold">Rollen & Rechte</h2>
          <p class="text-sm text-slate-500">Feingranulare Zugriffe pro Rolle.</p>
        </header>
        <form class="js-save grid gap-6 md:grid-cols-3">
          <div class="rounded-xl border p-4 space-y-3">
            <div class="font-medium">Mitglied</div>
            <label class="flex items-center justify-between text-sm"><span>Lesen</span><input type="checkbox" class="peer sr-only" checked><span class="relative h-5 w-10 rounded-full bg-slate-200 peer-checked:bg-blue-600"><span class="absolute left-1 top-1 h-3 w-3 rounded-full bg-white transition-transform peer-checked:translate-x-5"></span></span></label>
            <label class="flex items-center justify-between text-sm"><span>Bearbeiten</span><input type="checkbox" class="peer sr-only"><span class="relative h-5 w-10 rounded-full bg-slate-200 peer-checked:bg-blue-600"><span class="absolute left-1 top-1 h-3 w-3 rounded-full bg-white transition-transform peer-checked:translate-x-5"></span></span></label>
            <label class="flex items-center justify-between text-sm"><span>Export</span><input type="checkbox" class="peer sr-only"><span class="relative h-5 w-10 rounded-full bg-slate-200 peer-checked:bg-blue-600"><span class="absolute left-1 top-1 h-3 w-3 rounded-full bg-white transition-transform peer-checked:translate-x-5"></span></span></label>
          </div>
          <div class="rounded-xl border p-4 space-y-3">
            <div class="font-medium">Manager</div>
            <label class="flex items-center justify-between text-sm"><span>Lesen</span><input type="checkbox" class="peer sr-only" checked><span class="relative h-5 w-10 rounded-full bg-slate-200 peer-checked:bg-blue-600"><span class="absolute left-1 top-1 h-3 w-3 rounded-full bg-white transition-transform peer-checked:translate-x-5"></span></span></label>
            <label class="flex items-center justify-between text-sm"><span>Bearbeiten</span><input type="checkbox" class="peer sr-only" checked><span class="relative h-5 w-10 rounded-full bg-slate-200 peer-checked:bg-blue-600"><span class="absolute left-1 top-1 h-3 w-3 rounded-full bg-white transition-transform peer-checked:translate-x-5"></span></span></label>
            <label class="flex items-center justify-between text-sm"><span>Nutzer verwalten</span><input type="checkbox" class="peer sr-only"><span class="relative h-5 w-10 rounded-full bg-slate-200 peer-checked:bg-blue-600"><span class="absolute left-1 top-1 h-3 w-3 rounded-full bg-white transition-transform peer-checked:translate-x-5"></span></span></label>
          </div>
          <div class="rounded-xl border p-4 space-y-3">
            <div class="font-medium">Admin</div>
            <label class="flex items-center justify-between text-sm"><span>Alle Rechte</span><input type="checkbox" class="peer sr-only" checked><span class="relative h-5 w-10 rounded-full bg-slate-200 peer-checked:bg-blue-600"><span class="absolute left-1 top-1 h-3 w-3 rounded-full bg-white transition-transform peer-checked:translate-x-5"></span></span></label>
            <label class="flex items-center justify-between text-sm"><span>Systemeinstellungen</span><input type="checkbox" class="peer sr-only" checked><span class="relative h-5 w-10 rounded-full bg-slate-200 peer-checked:bg-blue-600"><span class="absolute left-1 top-1 h-3 w-3 rounded-full bg-white transition-transform peer-checked:translate-x-5"></span></span></label>
            <label class="flex items-center justify-between text-sm"><span>Abrechnung</span><input type="checkbox" class="peer sr-only" checked><span class="relative h-5 w-10 rounded-full bg-slate-200 peer-checked:bg-blue-600"><span class="absolute left-1 top-1 h-3 w-3 rounded-full bg-white transition-transform peer-checked:translate-x-5"></span></span></label>
          </div>
          <div class="md:col-span-3 flex justify-end">
            <button type="submit" class="rounded-xl bg-blue-600 px-4 py-2 text-sm text-white shadow-sm hover:bg-blue-700">Rechte speichern</button>
          </div>
        </form>
      </section>

      <!-- ADMIN: Audit-Logs -->
      <section id="audit" class="rounded-2xl border bg-white p-6 shadow-sm" data-visible-for="admin">
        <header class="mb-4 flex items-center justify-between">
          <div>
            <h2 class="text-lg font-semibold">Audit‑Logs</h2>
            <p class="text-sm text-slate-500">Nachvollziehbarkeit sicherheitsrelevanter Aktionen.</p>
          </div>
          <div class="flex gap-2">
            <input type="search" placeholder="Suchen…" class="rounded-xl border px-3 py-2 text-sm" />
            <button class="rounded-xl border px-3 py-2 text-sm hover:bg-slate-50">Export</button>
          </div>
        </header>
        <div class="rounded-xl border overflow-hidden">
          <table class="w-full text-sm">
            <thead class="bg-slate-50 text-slate-600">
              <tr>
                <th class="px-4 py-2 text-left font-medium">Zeit</th>
                <th class="px-4 py-2 text-left font-medium">Benutzer</th>
                <th class="px-4 py-2 text-left font-medium">Aktion</th>
                <th class="px-4 py-2 text-left font-medium">IP</th>
              </tr>
            </thead>
            <tbody>
              <tr class="border-t">
                <td class="px-4 py-2">2025‑08‑20 10:14</td>
                <td class="px-4 py-2">Jordan Demo</td>
                <td class="px-4 py-2">Rolle von Chris auf „Manager" geändert</td>
                <td class="px-4 py-2">83.135.20.4</td>
              </tr>
              <tr class="border-t">
                <td class="px-4 py-2">2025‑08‑18 08:02</td>
                <td class="px-4 py-2">System</td>
                <td class="px-4 py-2">2FA verpflichtend gesetzt</td>
                <td class="px-4 py-2">—</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>
    </section>
  </main>

  <footer class="border-t bg-white/60 backdrop-blur">
    <div class="container flex items-center justify-between py-3 text-sm">
      <div class="text-slate-500">© 2025 Demo GmbH</div>
      <div class="flex items-center gap-2">
        <button id="saveAllBottom" class="rounded-xl bg-blue-600 px-4 py-2 text-white shadow-sm hover:bg-blue-700">Änderungen speichern</button>
      </div>
    </div>
  </footer>

  <script>
    // Role switcher
    const onRoleChange = (role) => {
      document.body.setAttribute('data-role', role);
    };
    document.querySelectorAll('input[name="role"]').forEach((el) => {
      el.addEventListener('change', () => onRoleChange(el.value));
    });

    // Demo save handler -> toast
    function showToast(message = 'Gespeichert!') {
      const root = document.getElementById('toast-root');
      const el = document.createElement('div');
      el.className = 'pointer-events-auto rounded-xl border bg-white px-4 py-2 shadow-md flex items-center gap-2';
      el.innerHTML = `
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-600" viewBox="0 0 20 20" fill="currentColor"><path d="M16.707 5.293a1 1 0 00-1.414 0L8 12.586 4.707 9.293a1 1 0 10-1.414 1.414l4 4a1 1 0 001.414 0l8-8a1 1 0 000-1.414z"/></svg>
        <span class="text-sm">${message}</span>`;
      root.appendChild(el);
      setTimeout(() => el.classList.add('opacity-0', 'translate-y-1'), 1800);
      setTimeout(() => el.remove(), 2200);
    }

    document.querySelectorAll('form.js-save').forEach((form) => {
      form.addEventListener('submit', (e) => {
        e.preventDefault();
        showToast('Änderungen gespeichert');
      });
    });

    document.getElementById('saveAllTop').addEventListener('click', () => showToast('Alle Änderungen gespeichert'));
    document.getElementById('saveAllBottom').addEventListener('click', () => showToast('Alle Änderungen gespeichert'));
  </script>
</body>
</html>
