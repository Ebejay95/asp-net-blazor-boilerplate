<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Reports & Automatisierungen</title>
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    // Tailwind config (optional fine‑tuning)
    tailwind.config = {
      theme: {
        extend: {
          boxShadow: {
            soft: '0 10px 25px -10px rgba(0,0,0,0.15)'
          }
        }
      }
    }
  </script>
  <style>
    /* Simple scrollbar for large lists */
    .scroll-slim::-webkit-scrollbar{height:8px;width:8px}
    .scroll-slim::-webkit-scrollbar-thumb{background:#d1d5db;border-radius:8px}
  </style>
</head>
<body class="min-h-screen bg-slate-50 text-slate-800">
  <!-- App Shell -->
  <header class="sticky top-0 z-40 bg-white/80 backdrop-blur border-b border-slate-200">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center gap-4 py-4">
        <div class="flex items-center gap-2">
          <span class="inline-flex h-9 w-9 items-center justify-center rounded-xl bg-indigo-600 text-white shadow-soft">
            <!-- logo -->
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M3 7h18M3 12h18M3 17h18" />
            </svg>
          </span>
          <h1 class="text-xl font-semibold">Reports & Automatisierungen</h1>
        </div>
        <div class="ml-auto flex items-center gap-2">
          <button id="btnNewReport" class="inline-flex items-center gap-2 rounded-xl bg-indigo-600 px-4 py-2.5 text-white hover:bg-indigo-700 shadow-soft">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 5v14M5 12h14"/></svg>
            Neuer Bericht
          </button>
          <button id="btnNewTemplate" class="inline-flex items-center gap-2 rounded-xl bg-slate-900 px-4 py-2.5 text-white hover:bg-black/90">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16v16H4z"/><path d="M4 9h16"/></svg>
            Neue Vorlage
          </button>
          <button id="btnNewAutomation" class="inline-flex items-center gap-2 rounded-xl bg-white px-4 py-2.5 text-slate-700 hover:bg-slate-100 border border-slate-200">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h6v6H4zM14 4h6v6h-6zM4 14h6v6H4zM14 14h6v6h-6z"/></svg>
            Automatisierung
          </button>
        </div>
      </div>
    </div>
  </header>

  <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <!-- Tabs -->
    <div class="mb-6">
      <div class="inline-flex rounded-2xl bg-white p-1 border border-slate-200 shadow-soft">
        <button data-tab="berichte" class="tab-btn px-4 py-2.5 rounded-xl text-sm font-medium hover:bg-slate-50 aria-selected:bg-indigo-600 aria-selected:text-white" aria-selected="true">Berichte</button>
        <button data-tab="vorlagen" class="tab-btn px-4 py-2.5 rounded-xl text-sm font-medium hover:bg-slate-50 aria-selected:bg-indigo-600 aria-selected:text-white">Vorlagen</button>
        <button data-tab="automatisierungen" class="tab-btn px-4 py-2.5 rounded-xl text-sm font-medium hover:bg-slate-50 aria-selected:bg-indigo-600 aria-selected:text-white">Automatisierungen</button>
      </div>
    </div>

    <!-- Panels -->
    <section id="panel-berichte" class="tab-panel grid gap-6" role="region">
      <!-- Filters -->
      <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
        <div class="col-span-2 bg-white border border-slate-200 rounded-2xl p-3 md:p-4">
          <div class="grid grid-cols-1 md:grid-cols-4 gap-3">
            <div>
              <label class="block text-xs font-medium text-slate-600 mb-1">Suche</label>
              <input type="search" placeholder="Berichte durchsuchen…" class="w-full rounded-xl border-slate-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" />
            </div>
            <div>
              <label class="block text-xs font-medium text-slate-600 mb-1">Status</label>
              <select class="w-full rounded-xl border-slate-200 focus:ring-2 focus:ring-indigo-500">
                <option>Alle</option>
                <option>Entwurf</option>
                <option>Fertig</option>
                <option>Gesendet</option>
              </select>
            </div>
            <div>
              <label class="block text-xs font-medium text-slate-600 mb-1">Zeitraum</label>
              <input type="month" class="w-full rounded-xl border-slate-200 focus:ring-2 focus:ring-indigo-500" />
            </div>
            <div class="flex items-end">
              <button class="w-full rounded-xl bg-slate-900 text-white py-2.5 hover:bg-black">Filtern</button>
            </div>
          </div>
        </div>
        <div class="bg-gradient-to-br from-indigo-50 to-white border border-indigo-100 rounded-2xl p-4">
          <div class="flex items-start gap-3">
            <span class="inline-flex h-9 w-9 items-center justify-center rounded-xl bg-indigo-600 text-white">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14M12 5v14"/></svg>
            </span>
            <div>
              <h3 class="font-semibold">Schnellstart</h3>
              <p class="text-sm text-slate-600">Erstelle einen neuen Bericht auf Basis einer Vorlage und wähle einen Zeitraum.</p>
              <div class="mt-3 flex gap-2">
                <button id="qsNewReport" class="rounded-xl bg-indigo-600 text-white px-3.5 py-2 text-sm hover:bg-indigo-700">Neuer Bericht</button>
                <button class="rounded-xl bg-white text-slate-700 px-3.5 py-2 text-sm border border-slate-200 hover:bg-slate-50" id="qsNewTemplate">Neue Vorlage</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Report List -->
      <div class="bg-white border border-slate-200 rounded-2xl overflow-hidden">
        <div class="px-4 py-3 border-b border-slate-200 flex items-center justify-between">
          <h3 class="font-semibold">Deine Berichte</h3>
          <div class="text-sm text-slate-500">12 Einträge</div>
        </div>
        <div class="overflow-x-auto scroll-slim">
          <table class="min-w-full text-sm">
            <thead class="bg-slate-50">
              <tr>
                <th class="text-left font-medium text-slate-600 px-4 py-3">Titel</th>
                <th class="text-left font-medium text-slate-600 px-4 py-3">Vorlage</th>
                <th class="text-left font-medium text-slate-600 px-4 py-3">Zeitraum</th>
                <th class="text-left font-medium text-slate-600 px-4 py-3">Status</th>
                <th class="text-right font-medium text-slate-600 px-4 py-3">Aktionen</th>
              </tr>
            </thead>
            <tbody class="divide-y divide-slate-100">
              <!-- Example Row -->
              <tr class="hover:bg-slate-50/60">
                <td class="px-4 py-3 font-medium">Q2 KPI-Überblick</td>
                <td class="px-4 py-3 text-slate-600">KPI Standard</td>
                <td class="px-4 py-3 text-slate-600">01.04.2025 – 30.06.2025</td>
                <td class="px-4 py-3"><span class="inline-flex items-center gap-2 text-emerald-700 bg-emerald-50 border border-emerald-200 px-2.5 py-1 rounded-lg">• Fertig</span></td>
                <td class="px-4 py-3 text-right">
                  <div class="inline-flex items-center gap-2">
                    <button class="btn-icon" title="Ansehen" aria-label="Ansehen">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7-11-7-11-7z"/><circle cx="12" cy="12" r="3"/></svg>
                    </button>
                    <button class="btn-icon" title="Senden"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 2L11 13"/><path d="M22 2l-7 20-4-9-9-4 20-7z"/></svg></button>
                    <button class="btn-icon" title="PDF exportieren"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><path d="M14 2v6h6"/></svg></button>
                    <button class="btn-icon" title="Mehr"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="currentColor"><circle cx="5" cy="12" r="1.5"/><circle cx="12" cy="12" r="1.5"/><circle cx="19" cy="12" r="1.5"/></svg></button>
                  </div>
                </td>
              </tr>
              <!-- Repeat demo rows -->
              <tr class="hover:bg-slate-50/60">
                <td class="px-4 py-3 font-medium">Umsatz-Report Juli</td>
                <td class="px-4 py-3 text-slate-600">Sales Monatsreport</td>
                <td class="px-4 py-3 text-slate-600">01.07.2025 – 31.07.2025</td>
                <td class="px-4 py-3"><span class="inline-flex items-center gap-2 text-amber-700 bg-amber-50 border border-amber-200 px-2.5 py-1 rounded-lg">• Entwurf</span></td>
                <td class="px-4 py-3 text-right">
                  <div class="inline-flex items-center gap-2">
                    <button class="btn-icon" title="Bearbeiten" aria-label="Bearbeiten">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 20h9"/><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"/></svg>
                    </button>
                    <button class="btn-icon" title="Senden"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 2L11 13"/><path d="M22 2l-7 20-4-9-9-4 20-7z"/></svg></button>
                    <button class="btn-icon" title="PDF exportieren"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><path d="M14 2v6h6"/></svg></button>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <section id="panel-vorlagen" class="tab-panel hidden grid gap-6" role="region">
      <div class="grid md:grid-cols-3 gap-4">
        <!-- Left: List -->
        <div class="md:col-span-1 bg-white border border-slate-200 rounded-2xl p-4 h-fit">
          <div class="flex items-center justify-between mb-3">
            <h3 class="font-semibold">Vorlagen</h3>
            <button id="btnSidebarNewTemplate" class="inline-flex items-center gap-2 rounded-xl bg-slate-900 px-3 py-1.5 text-white text-sm hover:bg-black">Neu</button>
          </div>
          <ul class="space-y-1 text-sm">
            <li><button class="tpl-item active"></span> KPI Standard</button></li>
            <li><button class="tpl-item">Sales Monatsreport</button></li>
            <li><button class="tpl-item">Projekt-Status</button></li>
            <li><button class="tpl-item">Marketing Funnel</button></li>
          </ul>
        </div>
        <!-- Right: Editor -->
        <div class="md:col-span-2 bg-white border border-slate-200 rounded-2xl p-4">
          <div class="flex items-center justify-between">
            <div>
              <h3 class="font-semibold">Vorlage bearbeiten</h3>
              <p class="text-sm text-slate-600">Wähle, welche Bereiche im Bericht erscheinen sollen.</p>
            </div>
            <div class="flex items-center gap-2">
              <button class="rounded-xl border border-slate-200 px-3 py-2 text-sm hover:bg-slate-50">Als neue Vorlage speichern</button>
              <button class="rounded-xl bg-indigo-600 text-white px-3 py-2 text-sm hover:bg-indigo-700">Speichern</button>
            </div>
          </div>
          <div class="mt-4 grid md:grid-cols-2 gap-4">
            <!-- Sections toggles -->
            <div class="space-y-3">
              <h4 class="text-sm font-semibold text-slate-700">Abschnitte</h4>
              <label class="flex items-center gap-3">
                <input type="checkbox" class="rounded" checked />
                <span>Kennzahlen (KPIs)</span>
              </label>
              <label class="flex items-center gap-3">
                <input type="checkbox" class="rounded" checked />
                <span>Umsatz nach Segment</span>
              </label>
              <label class="flex items-center gap-3">
                <input type="checkbox" class="rounded" />
                <span>Top-Kunden</span>
              </label>
              <label class="flex items-center gap-3">
                <input type="checkbox" class="rounded" checked />
                <span>Forecast</span>
              </label>
              <label class="flex items-center gap-3">
                <input type="checkbox" class="rounded" />
                <span>Risiken & Maßnahmen</span>
              </label>
            </div>
            <!-- Section order + options -->
            <div class="space-y-3">
              <h4 class="text-sm font-semibold text-slate-700">Optionen</h4>
              <div>
                <label class="block text-xs text-slate-600 mb-1">Titel der Vorlage</label>
                <input type="text" value="KPI Standard" class="w-full rounded-xl border-slate-200 focus:ring-2 focus:ring-indigo-500" />
              </div>
              <div>
                <label class="block text-xs text-slate-600 mb-1">Standard-Zeitraum</label>
                <select class="w-full rounded-xl border-slate-200 focus:ring-2 focus:ring-indigo-500">
                  <option>Letzter Monat</option>
                  <option>Letztes Quartal</option>
                  <option>Benutzerdefiniert</option>
                </select>
              </div>
              <div>
                <label class="block text-xs text-slate-600 mb-1">Kommentar-Feld anzeigen</label>
                <select class="w-full rounded-xl border-slate-200 focus:ring-2 focus:ring-indigo-500">
                  <option>Ja</option>
                  <option>Nein</option>
                </select>
              </div>
            </div>
          </div>
          <!-- Preview -->
          <div class="mt-6">
            <h4 class="text-sm font-semibold text-slate-700 mb-2">Vorschau</h4>
            <div class="rounded-2xl border border-dashed border-slate-300 p-6 text-sm text-slate-600">
              Vorschau des Berichtslayouts basierend auf aktivierten Abschnitten…
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="panel-automatisierungen" class="tab-panel hidden grid gap-6" role="region">
      <div class="bg-white border border-slate-200 rounded-2xl">
        <div class="px-4 py-3 border-b border-slate-200 flex items-center justify-between">
          <h3 class="font-semibold">Automatisierungen</h3>
          <button class="rounded-xl bg-indigo-600 text-white px-3 py-2 text-sm hover:bg-indigo-700" id="btnCreateAutomation">Neu anlegen</button>
        </div>
        <div class="p-4 overflow-x-auto scroll-slim">
          <table class="min-w-full text-sm">
            <thead class="bg-slate-50">
              <tr>
                <th class="text-left font-medium text-slate-600 px-4 py-3">Name</th>
                <th class="text-left font-medium text-slate-600 px-4 py-3">Vorlage</th>
                <th class="text-left font-medium text-slate-600 px-4 py-3">Zeitplan</th>
                <th class="text-left font-medium text-slate-600 px-4 py-3">Empfänger</th>
                <th class="text-left font-medium text-slate-600 px-4 py-3">Status</th>
                <th class="text-right font-medium text-slate-600 px-4 py-3">Aktionen</th>
              </tr>
            </thead>
            <tbody class="divide-y divide-slate-100">
              <tr class="hover:bg-slate-50/60">
                <td class="px-4 py-3 font-medium">Monatlicher KPI-Bericht</td>
                <td class="px-4 py-3 text-slate-600">KPI Standard</td>
                <td class="px-4 py-3 text-slate-600">Jeden 1. Werktag 08:00</td>
                <td class="px-4 py-3 text-slate-600">GF, Board</td>
                <td class="px-4 py-3"><span class="inline-flex items-center gap-2 text-emerald-700 bg-emerald-50 border border-emerald-200 px-2.5 py-1 rounded-lg">Aktiv</span></td>
                <td class="px-4 py-3 text-right">
                  <div class="inline-flex items-center gap-2">
                    <button class="btn-icon" title="Deaktivieren"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6L6 18"/><path d="M6 6l12 12"/></svg></button>
                    <button class="btn-icon" title="Bearbeiten"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 20h9"/><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"/></svg></button>
                    <button class="btn-icon" title="Jetzt ausführen"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 3l14 9L5 21V3z"/></svg></button>
                  </div>
                </td>
              </tr>
              <tr class="hover:bg-slate-50/60">
                <td class="px-4 py-3 font-medium">Wöchentliches Projektupdate</td>
                <td class="px-4 py-3 text-slate-600">Projekt-Status</td>
                <td class="px-4 py-3 text-slate-600">Montags 09:00</td>
                <td class="px-4 py-3 text-slate-600">Projektteam</td>
                <td class="px-4 py-3"><span class="inline-flex items-center gap-2 text-amber-700 bg-amber-50 border border-amber-200 px-2.5 py-1 rounded-lg">Pausiert</span></td>
                <td class="px-4 py-3 text-right">
                  <div class="inline-flex items-center gap-2">
                    <button class="btn-icon" title="Aktivieren"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12l5 5L20 7"/></svg></button>
                    <button class="btn-icon" title="Bearbeiten"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 20h9"/><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"/></svg></button>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>
  </main>

  <!-- New Report Modal -->
  <div id="modalReport" class="modal hidden fixed inset-0 z-50">
    <div class="absolute inset-0 bg-slate-900/60"></div>
    <div class="relative mx-auto mt-16 w-[95%] max-w-2xl">
      <div class="bg-white rounded-2xl shadow-soft border border-slate-200">
        <div class="px-5 py-4 border-b border-slate-200 flex items-center justify-between">
          <h3 class="font-semibold">Neuen Bericht erstellen</h3>
          <button class="btn-icon" data-close-modal="modalReport" aria-label="Schließen">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6L6 18"/><path d="M6 6l12 12"/></svg>
          </button>
        </div>
        <div class="p-5 grid gap-4">
          <div>
            <label class="block text-xs text-slate-600 mb-1">Vorlage</label>
            <select class="w-full rounded-xl border-slate-200 focus:ring-2 focus:ring-indigo-500">
              <option>KPI Standard</option>
              <option>Sales Monatsreport</option>
              <option>Projekt-Status</option>
            </select>
          </div>
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
            <div>
              <label class="block text-xs text-slate-600 mb-1">Von</label>
              <input type="date" class="w-full rounded-xl border-slate-200 focus:ring-2 focus:ring-indigo-500"/>
            </div>
            <div>
              <label class="block text-xs text-slate-600 mb-1">Bis</label>
              <input type="date" class="w-full rounded-xl border-slate-200 focus:ring-2 focus:ring-indigo-500"/>
            </div>
          </div>
          <div>
            <label class="block text-xs text-slate-600 mb-1">Titel</label>
            <input type="text" placeholder="z. B. Q3 KPI-Bericht" class="w-full rounded-xl border-slate-200 focus:ring-2 focus:ring-indigo-500" />
          </div>
          <div>
            <label class="block text-xs text-slate-600 mb-2">Abschnitte (aus Vorlage)</label>
            <div class="grid sm:grid-cols-2 gap-2">
              <label class="flex items-center gap-3 border border-slate-200 rounded-xl p-2.5">
                <input type="checkbox" class="rounded" checked />
                <span>Kennzahlen</span>
              </label>
              <label class="flex items-center gap-3 border border-slate-200 rounded-xl p-2.5">
                <input type="checkbox" class="rounded" checked />
                <span>Umsatz nach Segment</span>
              </label>
              <label class="flex items-center gap-3 border border-slate-200 rounded-xl p-2.5">
                <input type="checkbox" class="rounded" />
                <span>Top-Kunden</span>
              </label>
              <label class="flex items-center gap-3 border border-slate-200 rounded-xl p-2.5">
                <input type="checkbox" class="rounded" />
                <span>Risiken & Maßnahmen</span>
              </label>
            </div>
          </div>
        </div>
        <div class="px-5 py-4 border-t border-slate-200 flex items-center justify-between">
          <div class="text-sm text-slate-500">Der Bericht wird als Entwurf erstellt.</div>
          <div class="flex items-center gap-2">
            <button class="rounded-xl border border-slate-200 px-4 py-2 hover:bg-slate-50" data-close-modal="modalReport">Abbrechen</button>
            <button class="rounded-xl bg-indigo-600 text-white px-4 py-2 hover:bg-indigo-700">Erstellen</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- New Template Modal -->
  <div id="modalTemplate" class="modal hidden fixed inset-0 z-50">
    <div class="absolute inset-0 bg-slate-900/60"></div>
    <div class="relative mx-auto mt-16 w-[95%] max-w-2xl">
      <div class="bg-white rounded-2xl shadow-soft border border-slate-200">
        <div class="px-5 py-4 border-b border-slate-200 flex items-center justify-between">
          <h3 class="font-semibold">Neue Vorlage erstellen</h3>
          <button class="btn-icon" data-close-modal="modalTemplate" aria-label="Schließen">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6L6 18"/><path d="M6 6l12 12"/></svg>
          </button>
        </div>
        <div class="p-5 grid gap-4">
          <div>
            <label class="block text-xs text-slate-600 mb-1">Titel</label>
            <input type="text" placeholder="z. B. Vorstandsvorlage" class="w-full rounded-xl border-slate-200 focus:ring-2 focus:ring-indigo-500" />
          </div>
          <div>
            <label class="block text-xs text-slate-600 mb-1">Beschreibung</label>
            <textarea rows="3" class="w-full rounded-xl border-slate-200 focus:ring-2 focus:ring-indigo-500" placeholder="Wofür wird die Vorlage genutzt?"></textarea>
          </div>
          <div>
            <label class="block text-xs text-slate-600 mb-2">Abschnitte</label>
            <div class="grid sm:grid-cols-2 gap-2">
              <label class="flex items-center gap-3 border border-slate-200 rounded-xl p-2.5"><input type="checkbox" class="rounded" checked /><span>Kennzahlen</span></label>
              <label class="flex items-center gap-3 border border-slate-200 rounded-xl p-2.5"><input type="checkbox" class="rounded" checked /><span>Umsatz</span></label>
              <label class="flex items-center gap-3 border border-slate-200 rounded-xl p-2.5"><input type="checkbox" class="rounded" /><span>Top-Kunden</span></label>
              <label class="flex items-center gap-3 border border-slate-200 rounded-xl p-2.5"><input type="checkbox" class="rounded" /><span>Marketing</span></label>
              <label class="flex items-center gap-3 border border-slate-200 rounded-xl p-2.5"><input type="checkbox" class="rounded" /><span>Risiken</span></label>
              <label class="flex items-center gap-3 border border-slate-200 rounded-xl p-2.5"><input type="checkbox" class="rounded" /><span>Forecast</span></label>
            </div>
          </div>
        </div>
        <div class="px-5 py-4 border-t border-slate-200 flex items-center justify-end gap-2">
          <button class="rounded-xl border border-slate-200 px-4 py-2 hover:bg-slate-50" data-close-modal="modalTemplate">Abbrechen</button>
          <button class="rounded-xl bg-indigo-600 text-white px-4 py-2 hover:bg-indigo-700">Vorlage speichern</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Create Automation Modal -->
  <div id="modalAutomation" class="modal hidden fixed inset-0 z-50">
    <div class="absolute inset-0 bg-slate-900/60"></div>
    <div class="relative mx-auto mt-16 w-[95%] max-w-2xl">
      <div class="bg-white rounded-2xl shadow-soft border border-slate-200">
        <div class="px-5 py-4 border-b border-slate-200 flex items-center justify-between">
          <h3 class="font-semibold">Automatisierung anlegen</h3>
          <button class="btn-icon" data-close-modal="modalAutomation" aria-label="Schließen">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6L6 18"/><path d="M6 6l12 12"/></svg>
          </button>
        </div>
        <div class="p-5 grid gap-4">
          <div class="grid sm:grid-cols-2 gap-4">
            <div>
              <label class="block text-xs text-slate-600 mb-1">Name</label>
              <input type="text" placeholder="z. B. KPI an Board" class="w-full rounded-xl border-slate-200 focus:ring-2 focus:ring-indigo-500" />
            </div>
            <div>
              <label class="block text-xs text-slate-600 mb-1">Vorlage</label>
              <select class="w-full rounded-xl border-slate-200 focus:ring-2 focus:ring-indigo-500">
                <option>KPI Standard</option>
                <option>Sales Monatsreport</option>
                <option>Projekt-Status</option>
              </select>
            </div>
          </div>
          <div class="grid sm:grid-cols-2 gap-4">
            <div>
              <label class="block text-xs text-slate-600 mb-1">Zeitplan</label>
              <select class="w-full rounded-xl border-slate-200 focus:ring-2 focus:ring-indigo-500">
                <option>Monatlich</option>
                <option>Wöchentlich</option>
                <option>Täglich</option>
                <option>Benutzerdefiniert (CRON)</option>
              </select>
            </div>
            <div>
              <label class="block text-xs text-slate-600 mb-1">Uhrzeit</label>
              <input type="time" value="08:00" class="w-full rounded-xl border-slate-200 focus:ring-2 focus:ring-indigo-500" />
            </div>
          </div>
          <div>
            <label class="block text-xs text-slate-600 mb-2">Inhalte</label>
            <div class="grid sm:grid-cols-2 gap-2">
              <label class="flex items-center gap-3 border border-slate-200 rounded-xl p-2.5"><input type="checkbox" class="rounded" checked /><span>Kennzahlen</span></label>
              <label class="flex items-center gap-3 border border-slate-200 rounded-xl p-2.5"><input type="checkbox" class="rounded" checked /><span>Umsatz</span></label>
              <label class="flex items-center gap-3 border border-slate-200 rounded-xl p-2.5"><input type="checkbox" class="rounded" /><span>Top-Kunden</span></label>
              <label class="flex items-center gap-3 border border-slate-200 rounded-xl p-2.5"><input type="checkbox" class="rounded" /><span>Risiken</span></label>
            </div>
          </div>
          <div>
            <label class="block text-xs text-slate-600 mb-1">Empfänger</label>
            <input type="text" placeholder="z. B. board@example.com, gf@example.com" class="w-full rounded-xl border-slate-200 focus:ring-2 focus:ring-indigo-500" />
          </div>
        </div>
        <div class="px-5 py-4 border-t border-slate-200 flex items-center justify-end gap-2">
          <button class="rounded-xl border border-slate-200 px-4 py-2 hover:bg-slate-50" data-close-modal="modalAutomation">Abbrechen</button>
          <button class="rounded-xl bg-indigo-600 text-white px-4 py-2 hover:bg-indigo-700">Speichern</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Toast -->
  <div id="toast" class="fixed bottom-6 left-1/2 -translate-x-1/2 hidden">
    <div class="rounded-xl bg-slate-900 text-white px-4 py-2 shadow-soft text-sm">Aktion erfolgreich ausgeführt.</div>
  </div>

  <script>
    // Utility: tabs
    const tabButtons = document.querySelectorAll('.tab-btn');
    const panels = {
      berichte: document.getElementById('panel-berichte'),
      vorlagen: document.getElementById('panel-vorlagen'),
      automatisierungen: document.getElementById('panel-automatisierungen')
    };
    tabButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        tabButtons.forEach(b => b.setAttribute('aria-selected', 'false'));
        btn.setAttribute('aria-selected', 'true');
        const tab = btn.dataset.tab;
        Object.keys(panels).forEach(key => panels[key].classList.toggle('hidden', key !== tab));
      });
    });

    // Buttons to open modals
    const openModal = id => document.getElementById(id).classList.remove('hidden');
    const closeModal = id => document.getElementById(id).classList.add('hidden');

    document.getElementById('btnNewReport').addEventListener('click', () => openModal('modalReport'));
    document.getElementById('qsNewReport').addEventListener('click', () => openModal('modalReport'));

    const newTplBtns = ['btnNewTemplate','qsNewTemplate','btnSidebarNewTemplate'];
    newTplBtns.forEach(id => {
      const el = document.getElementById(id);
      if (el) el.addEventListener('click', () => {
        // Switch to Vorlagen tab and open modal
        document.querySelector('[data-tab="vorlagen"]').click();
        openModal('modalTemplate');
      });
    });

    document.getElementById('btnNewAutomation').addEventListener('click', () => {
      document.querySelector('[data-tab="automatisierungen"]').click();
      openModal('modalAutomation');
    });
    document.getElementById('btnCreateAutomation').addEventListener('click', () => openModal('modalAutomation'));

    // Close modals
    document.querySelectorAll('[data-close-modal]').forEach(btn => {
      btn.addEventListener('click', () => closeModal(btn.getAttribute('data-close-modal')));
    });
    document.querySelectorAll('.modal').forEach(m => {
      m.addEventListener('click', (e) => {
        if (e.target === m) m.classList.add('hidden');
      });
    });

    // Simple toast demo
    const toast = (msg = 'Aktion erfolgreich ausgeführt.') => {
      const el = document.getElementById('toast');
      el.querySelector('div').textContent = msg;
      el.classList.remove('hidden');
      setTimeout(() => el.classList.add('hidden'), 2000);
    };

    // Icon button style helper
    document.querySelectorAll('.btn-icon').forEach(btn => {
      btn.classList.add('p-2','rounded-xl','hover:bg-slate-100','text-slate-600');
      btn.addEventListener('click', () => toast());
    });

    // Template sidebar item style
    document.querySelectorAll('.tpl-item').forEach(btn => {
      btn.className = 'tpl-item w-full text-left px-3 py-2 rounded-lg hover:bg-slate-50';
      btn.addEventListener('click', () => {
        document.querySelectorAll('.tpl-item').forEach(b => b.classList.remove('bg-slate-100','font-medium'));
        btn.classList.add('bg-slate-100','font-medium');
        toast('Vorlage geladen');
      });
    });
    document.querySelector('.tpl-item')?.classList.add('bg-slate-100','font-medium');
  </script>
</body>
</html>
