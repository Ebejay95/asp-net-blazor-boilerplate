@layer components {
	.btn {
		@apply relative inline-flex items-center justify-center text-base font-semibold cursor-pointer transition-all duration-[0.2s] ease-[ease-in-out] no-underline text-[color:var(--audicius-text)] px-[1.2rem] py-[0.6rem] rounded-lg border-[none] active:scale-[0.96] focus:outline-offset-0;

		/* Dynamische Box-Shadow basierend auf --btn-bg */
		--btn-bg: #f0f0f0;
		/* Default Farbe */
		--shadow-light: color-mix(in srgb, var(--btn-bg) 80%, white);
		--shadow-dark: color-mix(in srgb, var(--btn-bg) 80%, black);

		background: var(--btn-bg);

		box-shadow:
			1px 1px 1px var(--shadow-dark),
			0px 0px 1px 1px var(--shadow-light),
			inset -1px -1px 1px var(--shadow-dark),
			inset 1px 1px 1px var(--shadow-light);
	}

	.btn svg {
		@apply w-4 h-4;
		stroke: currentColor;
	}

	.btn.sm {
		@apply text-base px-[0.6rem] py-[0.3rem];
	}

	.btn.xs {
		@apply text-base px-[0.3rem] py-[0.1rem];
	}

	.btn-badge {
		@apply flex justify-center items-center absolute bg-[red] text-[white] rounded-full h-[15px] w-[15px] leading-[10px] top-[0] right-[0];
	}

	/* Interactive States - automatisch angepasst */
	.btn:hover {
		--shadow-light: color-mix(in srgb, var(--btn-bg) 85%, white);
		--shadow-dark: color-mix(in srgb, var(--btn-bg) 70%, black);

		box-shadow:
			1px 1px 1px var(--shadow-dark),
			0px 0px 1px 1px var(--shadow-light),
			inset -1px -1px 1px var(--shadow-dark),
			inset 1px 1px 1px var(--shadow-light);
		outline: none;
	}

	.btn:active {
		--shadow-light: color-mix(in srgb, var(--btn-bg) 70%, black);
		--shadow-dark: color-mix(in srgb, var(--btn-bg) 85%, white);

		box-shadow:
			1px 1px 1px var(--shadow-light),
			0px 0px 1px 1px var(--shadow-dark),
			inset -1px -1px 1px var(--shadow-light),
			inset 1px 1px 1px var(--shadow-dark);
		outline: none;
	}

	/* === Variants === */
	.btn.primary {
		--btn-bg: var(--audicius-blue);
		color: white;
	}

	.btn.danger {
		--btn-bg: var(--audicius-danger);
		color: white;
	}

	.btn.success {
		--btn-bg: var(--audicius-success);
		color: white;
	}

	
	.btn.secondary {
		--btn-bg: var(--audicius-darken);
		color: var(--audicius-text);
	}

	/* FLAT (clean, bordered) */
	.btn.flat {
		--btn-bg: transparent;
		--shadow-light: rgba(255, 255, 255, 0.8);
		--shadow-dark: rgba(0, 0, 0, 0.1);

		box-shadow: none;
		background: transparent;
	}

	.btn.flat:hover {
		--btn-bg: #f9fafb;
		background: var(--btn-bg);
	}

	/* GROUP (makes buttons stick together) */
	.btn-group {
		@apply inline-flex gap-0;
	}

	.btn-group .btn {
		@apply rounded-none first:rounded-tl-lg first:rounded-bl-lg last:rounded-tr-lg last:rounded-br-lg;
	}
}

/* Fallback f√ºr Browser ohne color-mix() Support */
@supports not (color: color-mix(in srgb, red, blue)) {
	.btn {
		box-shadow:
			1px 1px 1px rgba(0, 0, 0, 0.1),
			0px 0px 1px 1px white,
			inset -1px -1px 1px rgba(0, 0, 0, 0.1),
			inset 1px 1px 1px white;
	}

	.btn:hover {
		box-shadow:
			1px 1px 1px rgba(0, 0, 0, 0.2),
			0px 0px 1px 1px white,
			inset -1px -1px 1px rgba(0, 0, 0, 0.2),
			inset 1px 1px 1px white;
	}

	.btn:active {
		box-shadow:
			1px 1px 1px white,
			0px 0px 1px 1px rgba(0, 0, 0, 0.2),
			inset -1px -1px 1px white,
			inset 1px 1px 1px rgba(0, 0, 0, 0.2);
	}
}
