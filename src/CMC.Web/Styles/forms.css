@layer components {

	/* Labels & Helfer */
	.form-label {
		@apply block mb-1;
		color: var(--audicius-text);
	}

	.form-hint {
		@apply mt-1 text-sm;
		color: color-mix(in srgb, var(--audicius-text) 70%, transparent);
	}

	.field-error {
		@apply mt-1 text-sm;
		color: var(--audicius-danger);
	}

	.field-success {
		@apply mt-1 text-sm;
		color: var(--audicius-success);
	}

	/* Text-Inputs, Select, Textarea – einheitlicher Look */
	.form-control,
	select.form-control,
	textarea.form-control {
		@apply w-full rounded-xl px-2 py-1 text-base transition shadow-inner border outline-none;
		border-color: #0000001a;
		color: var(--audicius-text);
	}

	/* Placeholders dezent */
	.form-control::placeholder,
	textarea.form-control::placeholder {
		color: color-mix(in srgb, var(--audicius-text) 45%, transparent);
		opacity: 1;
	}

	/* Fokus: blauer „Audicius“-Ring + leichte harte Schatten-Note */
	.form-control:focus,
	select.form-control:focus,
	textarea.form-control:focus {
		@apply ring-2;
		/* Tailwind arbitrary color token */
		--tw-ring-color: var(--audicius-blue);
		border-color: var(--audicius-blue);
		outline: none;
	}

	/* Disabled / Readonly */
	.form-control:disabled,
	select.form-control:disabled,
	textarea.form-control:disabled {
		@apply opacity-60 cursor-not-allowed;
		background: #f7f7f7;
	}

	.form-control[readonly] {
		@apply cursor-default;
		background: #fcfcfc;
	}

	/* Validierung: Container-Klasse oder :invalid */
	.form-control.is-invalid,
	.form-group.is-invalid .form-control,
	.form-control:invalid {
		border-color: var(--audicius-danger);
		--tw-ring-color: color-mix(in srgb, var(--audicius-danger) 75%, transparent);
		box-shadow: 0 0 0 2px color-mix(in srgb, var(--audicius-danger) 25%, transparent), var(--audicius-shadow);
	}

	.form-control.is-valid,
	.form-group.is-valid .form-control {
		border-color: var(--audicius-success);
		--tw-ring-color: color-mix(in srgb, var(--audicius-success) 75%, transparent);
		box-shadow: 0 0 0 2px color-mix(in srgb, var(--audicius-success) 25%, transparent), var(--audicius-shadow);
	}

	.form-group.is-warning .form-control {
		border-color: var(--audicius-orange);
		--tw-ring-color: color-mix(in srgb, var(--audicius-orange) 75%, transparent);
		box-shadow: 0 0 0 2px color-mix(in srgb, var(--audicius-orange) 25%, transparent), var(--audicius-shadow);
	}

	/* Select: dezentes Caret (native bleibt) */
	select.form-control {
		@apply pr-10 appearance-none bg-no-repeat;
		background-image:
			linear-gradient(45deg, transparent 50%, var(--audicius-text) 50%),
			linear-gradient(135deg, var(--audicius-text) 50%, transparent 50%),
			linear-gradient(to right, transparent, transparent);
		background-position:
			calc(100% - 22px) 55%,
			calc(100% - 16px) 55%,
			100% 0;
		background-size: 6px 6px, 6px 6px, 2.5rem 100%;
	}

	/* Textarea: feste Mindesthöhe */
	textarea.form-control {
		min-height: 7rem;
		resize: vertical;
	}

	/* File Input – neutral, ohne verrücktes Styling */
	input[type="file"].form-control {
		@apply px-0 py-1.5;
		background: transparent;
	}

	/* Checkboxen & Radios: System-UI mit Brandfarbe */
	input[type="checkbox"],
	input[type="radio"] {
		accent-color: var(--audicius-blue);
	}

	/* Switch/Toggle (optional) – .switch + input[type=checkbox] */
	.switch {
		@apply inline-flex items-center gap-2 cursor-pointer;
	}

	.switch input[type="checkbox"] {
		@apply sr-only;
	}

	.switch .track {
		@apply w-10 h-6 rounded-full relative transition;
		background: #e6e6e6;
		box-shadow: var(--audicius-shadow);
	}

	.switch .thumb {
		@apply absolute top-0.5 left-0.5 w-5 h-5 rounded-full transition;
		background: #fff;
		box-shadow: 0 1px 2px #0001;
	}

	.switch input:checked+.track {
		background: var(--audicius-blue);
	}

	.switch input:checked+.track .thumb {
		transform: translateX(1.0rem);
	}

	/* Range Slider */
	input[type="range"].form-control {
		@apply w-full;
		background: transparent;
	}

	input[type="range"].form-control::-webkit-slider-runnable-track {
		height: 6px;
		border-radius: 999px;
		background: linear-gradient(90deg, var(--audicius-blue), var(--audicius-violett));
	}

	input[type="range"].form-control::-webkit-slider-thumb {
		-webkit-appearance: none;
		margin-top: -6px;
		width: 18px;
		height: 18px;
		border-radius: 999px;
		background: #fff;
		border: 2px solid var(--audicius-blue);
		box-shadow: var(--audicius-shadow);
	}

	input[type="range"].form-control::-moz-range-track {
		height: 6px;
		border-radius: 999px;
		background: linear-gradient(90deg, var(--audicius-blue), var(--audicius-violett));
	}

	input[type="range"].form-control::-moz-range-thumb {
		width: 18px;
		height: 18px;
		border-radius: 999px;
		background: #fff;
		border: 2px solid var(--audicius-blue);
		box-shadow: var(--audicius-shadow);
	}

	/* Color Input: runde Kachel */
	input[type="color"].form-control {
		@apply h-10 w-14 p-1 rounded-xl cursor-pointer;
		background: #fff;
		box-shadow: var(--audicius-shadow);
	}

	/* Progress / Meter */
	progress.form-control {
		@apply w-full h-3 rounded-xl overflow-hidden;
	}

	progress.form-control::-webkit-progress-bar {
		background: #eee;
		border-radius: 999px;
	}

	progress.form-control::-webkit-progress-value {
		background: var(--audicius-blue);
		border-radius: 999px;
	}

	meter.form-control {
		@apply w-full h-3;
	}

	meter::-webkit-meter-bar {
		background: #eee;
		border-radius: 999px;
	}

	meter::-webkit-meter-optimum-value {
		background: var(--audicius-success);
	}

	meter::-webkit-meter-suboptimum-value {
		background: var(--audicius-orange);
	}

	meter::-webkit-meter-even-less-good-value {
		background: var(--audicius-danger);
	}

	/* Input-Gruppen mit Icon links/rechts */
	.input-group {
		@apply relative;
	}

	.input-icon-left {
		@apply absolute inset-y-0 left-3 inline-flex items-center;
		color: color-mix(in srgb, var(--audicius-text) 65%, transparent);
	}

	.input-icon-right {
		@apply absolute inset-y-0 right-3 inline-flex items-center;
		color: color-mix(in srgb, var(--audicius-text) 65%, transparent);
	}

	.input-group .form-control.pl-icon {
		@apply pl-10;
	}

	.input-group .form-control.pr-icon {
		@apply pr-10;
	}
}
